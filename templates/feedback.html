<!DOCTYPE html>
<html lang="pl">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Feedback - Skankran</title>
    <link rel="stylesheet" href="/static/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FB097HQ344"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-FB097HQ344');
    </script>
</head>
<body>
    <header>
        <img src="/static/assets/icons/placeholder.svg" alt="Skankran Logo" id="logo">
        <h1 class="main-title">Feedback</h1>
        <a href="/">Powrót do strony głównej</a> <!-- Opcjonalny link nawigacji -->
</header>
    <main>
        <div class="section">
            <div class="feedback-container feedback-enterprise">
                <div class="feedback-top" style="width:100%; max-width:920px; margin:0 auto 18px;">
                    <ul class="feedback-list" style="display:flex; flex-direction:column; gap:10px; padding-left:1.25rem; margin:0;">
                        <li>zauważysz jakiś błąd w danych lub bug</li>
                        <li>chcesz podzielić się opinią, co Ci się podoba a co nie</li>
                        <li>podoba Ci się to co robię i chcesz dołączyć do drużyny SkanKran</li>
                        <li>chcesz żeby twoje miasto zostało dodane do SkanKran</li>
                    </ul>
                </div>

                <div class="feedback-bottom" style="width:100%; max-width:920px; margin:0 auto;">
                    <label for="feedback-text" class="sr-only">Twoja wiadomość</label>
                    <textarea id="feedback-text" placeholder="Twoja wiadomość..." rows="10" style="width:100%; box-sizing:border-box; padding:12px; font-size:1rem;"></textarea>
                    <div class="feedback-actions" style="margin-top:10px; display:flex; align-items:center; gap:12px;">
                        <button id="send-feedback-btn" class="primary-btn">Wyślij</button>
                        <p id="feedback-status" class="feedback-status" style="margin:0; font-size:0.95rem;"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <img src="/static/assets/icons/placeholder.svg" alt="Skankran Logo" class="footer-logo" style="display:none;">
        <p class="copyright">© Skankran wszelkie prawa zastrzeżone.</p>
        <p class="legal-links">Informacje prawne: <a href="/privacy">Polityka Prywatności</a> | <a href="/disclaimer">Klauzula wyłączenia odpowiedzialności</a></p>
    </footer>
    <script>
        document.getElementById('send-feedback-btn').addEventListener('click', () => {
            const text = document.getElementById('feedback-text').value.trim();
            const status = document.getElementById('feedback-status');
            if (!text) {
                status.textContent = 'Wpisz wiadomość!';
                status.style.color = '#f44336';
                return;
            }
            fetch('/send_feedback', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ message: text })
            })
            .then(res => res.json())
            .then(data => {
                if (data.success) {
                    status.textContent = 'Dziękujemy za feedback!';
                    status.style.color = 'green';
                    document.getElementById('feedback-text').value = '';
                } else {
                    status.textContent = data.error || 'Błąd wysyłania!';
                    status.style.color = '#f44336';
                }
            })
            .catch(err => {
                console.error('Błąd:', err);
                status.textContent = 'Błąd wysyłania!';
                status.style.color = '#f44336';
            });
        });
    </script>
    <script>
        document.querySelector('.section').classList.add('active'); // Pokazuje sekcję
    </script>
</body>
</html>