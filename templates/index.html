<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AquaTest</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
    <div class="container">
        <div class="nav-box">
            <button id="community-nav-btn">Przejdź do społeczności</button>
        </div>
        <h1>AquaTest – Pij jak w Japonii!</h1>
        <p>Sprawdź jakość wody kranowej lub butelkowanej!</p>
        <div class="input-box">
            <input id="city" type="text" placeholder="Wpisz miasto">
            <div id="city-suggestions"></div>
            <button id="check-kranowka-btn">Sprawdź kranówkę</button>
        </div>
        <div id="city-result" class="result-box"></div>
        <div class="input-box">
            <h2>Znajdź stację uzdatniania i punkt pomiarowy</h2>
            <input id="street" type="text" placeholder="Wpisz ulicę">
            <input id="city-premium" type="text" placeholder="Wpisz miasto">
            <div id="city-premium-suggestions"></div>
            <button id="find-station-btn">Znajdź najbliższą stację i punkt</button>
            <button id="show-suw-btn">Pokaż wszystkie SUW</button>
            <button id="show-points-btn">Pokaż wszystkie punkty pomiarowe</button>
            <button id="show-history-btn">Pokaż historię</button>
            <select id="rankingParameter">
                <option value="twardosc">Twardość</option>
                <option value="pH">pH</option>
                <option value="azotany">Azotany</option>
                <option value="zelazo">Żelazo</option>
                <option value="mangan">Mangan</option>
            </select>
            <button id="ranking-miast-btn">Pokaż ranking miast</button>
            <button id="ranking-suw-btn">Ranking SUW</button>
            <select id="bottleRankingParameter">
                <option value="wapn">Wapń</option>
                <option value="magnez">Magnez</option>
                <option value="sod">Sód</option>
                <option value="pH">pH</option>
                <option value="potas">Potas</option>
                <option value="fluorki">Fluorki</option>
            </select>
            <button id="ranking-bottles-btn">Pokaż ranking wód butelkowanych</button>
        </div>
        <div id="map" style="height: 400px; width: 100%; display: none; margin: 20px 0;"></div>
        <div id="waterInfo" class="result-box"></div>
        <div id="rankings" class="result-box"></div>
        <div id="history" class="result-box"></div>
        <div class="input-box">
            <input id="bottle" type="text" placeholder="Wpisz markę">
            <div id="bottle-suggestions"></div>
            <button id="check-butelkowana-btn">Sprawdź butelkowaną</button>
        </div>
        <div id="bottle-result" class="result-box"></div>
        <div class="world-water-box">
            <h2>Porównaj wody świata</h2>
            <input id="world-water" type="text" placeholder="Wpisz miasto świata (np. Tokio, Paryż)">
            <div id="world-water-suggestions"></div>
            <input id="local-city" type="text" placeholder="Wpisz miasto lokalne (np. Koszalin)">
            <div id="local-city-suggestions"></div>
            <button id="compare-world-water-btn">Porównaj</button>
            <div id="world-water-result" class="result-box"></div>
        </div>
        <div class="quiz-box">
            <h2>Wybierz quiz</h2>
            <button id="quiz-skin-btn" class="quiz-toggle-btn">Quiz o cerze</button>
            <div id="quiz-skin" style="display: none;">
                <form id="quiz-skin-form">
                    <label>1. Jak opiszesz swoją cerę?</label><br>
                    <input type="radio" name="q1" value="sucha"> Sucha<br>
                    <input type="radio" name="q1" value="normalna"> Normalna<br>
                    <input type="radio" name="q1" value="tłusta"> Tłusta<br><br>
                    <label>2. Masz AZS lub bardzo wrażliwą skórę?</label><br>
                    <input type="radio" name="q2" value="tak"> Tak<br>
                    <input type="radio" name="q2" value="nie"> Nie<br><br>
                    <label>3. Czy w Twojej wodzie jest dużo chloru? (Sprawdź w apce!)</label><br>
                    <input type="radio" name="q3" value="tak"> Tak<br>
                    <input type="radio" name="q3" value="nie"> Nie<br><br>
                    <label>4. Co pijesz na co dzień?</label><br>
                    <input type="radio" name="q4" value="kranówka"> Kranówka<br>
                    <input type="radio" name="q4" value="butelkowana"> Butelkowana<br><br>
                    <label>5. Jak dbasz o nawodnienie?</label><br>
                    <input type="radio" name="q5" value="regularnie"> Piję regularnie<br>
                    <input type="radio" name="q5" value="zapominam"> Często zapominam<br><br>
                    <label>6. Czy Twoja skóra jest wrażliwa na zmiany temperatury?</label><br>
                    <input type="radio" name="q6" value="tak"> Tak<br>
                    <input type="radio" name="q6" value="nie"> Nie<br><br>
                    <label>7. Czy zauważasz biały osad na kranie/czajniku?</label><br>
                    <input type="radio" name="q7" value="tak"> Tak<br>
                    <input type="radio" name="q7" value="nie"> Nie<br>
                    <input type="radio" name="q7" value="nie_wiem"> Nie wiem<br><br>
                    <label>8. Jak często myjesz twarz wodą z kranu?</label><br>
                    <input type="radio" name="q8" value="codziennie"> Codziennie<br>
                    <input type="radio" name="q8" value="kilka_razy"> Kilka razy w tygodniu<br>
                    <input type="radio" name="q8" value="rzadko"> Rzadko<br><br>
                    <label>9. Czy stosujesz filtry do wody w domu?</label><br>
                    <input type="radio" name="q9" value="tak"> Tak<br>
                    <input type="radio" name="q9" value="nie"> Nie<br>
                    <input type="radio" name="q9" value="planuję"> Planuję<br><br>
                    <button type="button" id="check-skin-quiz-btn">Sprawdź wynik</button>
                </form>
                <div id="quiz-skin-result"></div>
                <div id="aqua-bot-skin" style="display: none;">
                    <h3>AquaBot – Twój ekspert od wody</h3>
                    <div id="aqua-bot-skin-messages"></div>
                    <div id="aqua-bot-skin-options"></div>
                </div>
            </div>
            <button id="quiz-wellbeing-btn" class="quiz-toggle-btn">Quiz o samopoczuciu</button>
            <div id="quiz-wellbeing" style="display: none;">
                <form id="quiz-wellbeing-form">
                    <label>1. Czy czujesz się często przemęczony?</label><br>
                    <input type="radio" name="q1" value="tak"> Tak<br>
                    <input type="radio" name="q1" value="czasami"> Czasami<br>
                    <input type="radio" name="q1" value="nie"> Nie<br><br>
                    <label>2. Czy masz trudności z zasypianiem?</label><br>
                    <input type="radio" name="q2" value="tak"> Tak<br>
                    <input type="radio" name="q2" value="czasami"> Czasami<br>
                    <input type="radio" name="q2" value="nie"> Nie<br><br>
                    <label>3. Czy czujesz się zestresowany?</label><br>
                    <input type="radio" name="q3" value="tak"> Tak<br>
                    <input type="radio" name="q3" value="czasami"> Czasami<br>
                    <input type="radio" name="q3" value="nie"> Nie<br><br>
                    <label>4. Czy masz skurcze mięśni?</label><br>
                    <input type="radio" name="q4" value="tak"> Tak<br>
                    <input type="radio" name="q4" value="czasami"> Czasami<br>
                    <input type="radio" name="q4" value="nie"> Nie<br><br>
                    <label>5. Jak często pijesz wodę?</label><br>
                    <input type="radio" name="q5" value="regularnie"> Regularnie<br>
                    <input type="radio" name="q5" value="czasami"> Czasami<br>
                    <input type="radio" name="q5" value="rzadko Hawkins"> Rzadko<br><br>
                    <label>6. Kranówka czy butelkowana?</label><br>
                    <input type="radio" name="q6" value="kranówka"> Kranówka<br>
                    <input type="radio" name="q6" value="butelkowana"> Butelkowana<br>
                    <input type="radio" name="q6" value="mieszam"> Mieszam<br><br>
                    <button type="button" id="check-wellbeing-quiz-btn">Sprawdź wynik</button>
                </form>
                <div id="quiz-wellbeing-result"></div>
                <div id="aqua-bot-wellbeing" style="display: none;">
                    <h3>AquaBot – Twój ekspert od wody</h3>
                    <div id="aqua-bot-wellbeing-messages"></div>
                    <div id="aqua-bot-wellbeing-options"></div>
                </div>
            </div>
        </div>
        <div class="community-box" id="community-section" style="display: none;">
            <h2>Społeczność</h2>
            <div id="login-box" class="login-box">
                <input id="username" type="text" placeholder="Wpisz nazwę użytkownika">
                <button id="login-btn">Zaloguj</button>
            </div>
            <div id="user-info" style="display: none; margin-bottom: 20px;">
                <span id="current-username"></span> (<span id="user-rank"></span>)
                <button id="toggle-premium">Włącz/Wyłącz Premium</button>
                <button id="logout">Wyloguj</button>
            </div>
            <div class="post-box" style="display: none;" id="post-form">
                <select id="post-category">
                    <option value="problemy">Problemy z wodą</option>
                    <option value="filtry">Filtry</option>
                    <option value="ogolne">Ogólne</option>
                </select>
                <textarea id="post-content" placeholder="Napisz nowy post..." rows="3"></textarea>
                <label><input type="checkbox" id="premium-only-checkbox"> Tylko dla Premium</label>
                <button id="add-post-btn">Opublikuj</button>
            </div>
            <div class="community-controls">
                <select id="post-filter">
                    <option value="problemy">Problemy z wodą</option>
                    <option value="filtry">Filtry</option>
                    <option value="ogolne">Ogólne</option>
                    <option value="wszystkie">Wszystkie</option>
                </select>
                <select id="post-sort">
                    <option value="newest">Najnowsze</option>
                    <option value="popular">Najpopularniejsze</option>
                </select>
            </div>
            <div id="posts-list"></div>
        </div>
        <div class="user-rankings-box">
            <h2>Rankingi użytkowników</h2>
            <div class="user-ranking-form">
                <h3>Oceń wodę</h3>
                <select id="water-type">
                    <option value="kranowa">Woda kranowa</option>
                    <option value="butelkowana">Woda butelkowana</option>
                </select>
                <input type="text" id="water-name" placeholder="Nazwa wody (np. Koszalin, Nałęczowianka)">
                <select id="water-rating">
                    <option value="1">1 gwiazdka</option>
                    <option value="2">2 gwiazdki</option>
                    <option value="3">3 gwiazdki</option>
                    <option value="4">4 gwiazdki</option>
                    <option value="5">5 gwiazdek</option>
                </select>
                <button id="submit-rating-btn">Oceń</button>
                <select id="user-ranking-type">
                    <option value="kranowa">Kranowa</option>
                    <option value="butelkowana">Butelkowana</option>
                    <option value="wszystkie">Wszystkie</option>
                </select>
                <button id="show-user-rankings-btn">Pokaż ranking użytkowników</button>
            </div>
            <div id="user-rankings"></div>
            <div class="reminders-box">
                <h2>Przypomnienia o piciu wody</h2>
                <select id="reminder-frequency">
                    <option value="1">Co 1 godzinę</option>
                    <option value="2" selected>Co 2 godziny</option>
                    <option value="4">Co 4 godziny</option>
                </select>
                <button id="toggle-reminders">Włącz przypomnienia</button>
                <div id="reminder-status"></div>
            </div>
            <div class="alerts-box">
                <h2>Alerty o zmianach w danych</h2>
                <input id="alert-city" type="text" placeholder="Wpisz miasto">
                <div id="alert-city-suggestions"></div>
                <button id="toggle-alerts">Włącz alerty</button>
                <div id="alert-status"></div>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>